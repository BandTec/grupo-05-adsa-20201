<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUPERVISOR - DASHBOARD</title>
    <link rel="stylesheet" href="./style-pag-dashboard.css">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
</head>

<body onload="carregarDados()">




    <!-- Inicio nave da página -->

    <div class="divNav">
        <!-- Nave da página -->
        <div class="divImg"> </div>
        <!-- Logo Supervisor -->

        <button class="btnSair"> <!-- Botão Sair -->
           <p class="pSair">SAIR</p> <!-- Texto do botão sair -->
       </button>

    </div>

    <!-- Final nave da página -->



    <!-- Inicio corpo da página -->


    <!-- inicio visão geral -->
    <div class="divVisaoGeral">
        <p class="pVisaoGeral"> VISÃO GERAL </p>
    </div>



    <!-- menu lateral -->
    <div class="divMenuLateral">

        <!-- Nome e foto -->
        <div class="divPersona">
            <div class="divFoto"><img src="./Imagens/pessoa.png" alt="" width="30" height="30" class="imgFoto"></div>

            <p class="pNome">Karina Wakassuqui</p>
        </div>
        <!-- Final nome e foto -->

        <hr class="hrTopo">

        <!-- Começo informações de hardware -->
        <div class="divInformacoesHard" id="idInformacoesHard">
            <p class="pFiltrarComputadores"> Filtrar computadores </p>
            <p class="pStatusMaquina"> Status: <span id="idSpanStatus" class="spanStatus"> Crítico </span> </p>
            <div id="computadoresAlerta" style=" display: none; width: 100%; height: 90%;">
                <center>



                </center>
            </div>
            <div id="computadoresCrits">
                <center>
                    <button class="idMaquina" id="idGraficos" onclick="exibirGraficos()">ID 001</button>
                    <button class="idMaquina">ID 003</button>
                    <button class="idMaquina">ID 012</button>
                </center>
            </div>
        </div>
        <!-- Final informações de hardware -->

        <hr class="hrFinal">

        <button class="btnDiscord"><img src="./Imagens/discord (1).png" alt="" width="35" height="35" ></button>

    </div>
    <!-- final menu lateral -->




    <!-- Div Status Máquinas -->
    <div class="divFarois">
        <button class="divFarolCrit" onclick="exibirInfoCrit()" id="idQtdCrit"> - </button>

        <button class="divFarolAlerta" onclick="exibirInfoAlerta()" id="idQtdAlerta"> - </button>

        <button class="divFarolOk" onclick="exibirInfoOk()" id="idQtdOk"> - </button>
    </div>
    <!-- Fechamento Status Máquinas -->



    <!-- div Gráficos -->
    <div class="divGraficos">

        <canvas id="canvasGrafSemanal" height="90"></canvas>

        <div class="divStatusPC">

            <div class="divDiscoMemoria">
                <div class="divStatusDisco">
                    <canvas id="canvasStatusDisco" height="150" class="classStatusDisco"></canvas>
                </div>
                <div class="divStatusMemoria">
                    <canvas id="canvasStatusMemoria" class="divStatusDisco" height="0.50"></canvas>
                </div>
            </div>

            <canvas id="canvasStatusCPU" height="50"></canvas>
        </div>
    </div>
    <!-- Final Gráficos -->




</body>

</html>
<script src="./dash.js"></script>
<script>
    let qtdComputador = parseInt(Math.random() * 30 + 1);

    let qtdComputadorOk = 0;
    let qtdComputadorAlerta = 0;
    let qtdComputadorCrit = 0;

    function carregarDados() {

        for (let i = 0; i < qtdComputador; i++) {
            let dadoCpu = parseInt(Math.random() * 100 + 1);
            let dadoMemoria = parseInt(Math.random() * 100 + 1);
            let dadoDisco = parseInt(Math.random() * 100 + 1);
            let dadoGpu = parseInt(Math.random() * 100 + 1);

            if ((dadoCpu < 60 && dadoMemoria < 60) || (dadoGpu < 60 && dadoDisco < 60)) {
                qtdComputadorOk++;
            } else if ((dadoCpu <= 70 && dadoMemoria <= 70) || (dadoGpu <= 70 && dadoDisco <= 70)) {
                qtdComputadorAlerta++;
            } else {
                qtdComputadorCrit++;
            }
        }

        idQtdOk.innerHTML = qtdComputadorOk;
        idQtdAlerta.innerHTML = qtdComputadorAlerta;
        idQtdCrit.innerHTML = qtdComputadorCrit;


    }



    function exibirInfoAlerta() {

        document.getElementById('computadoresCrits').style.display = "none";
        document.getElementById('computadoresAlerta').style.display = "block";

        document.getElementById('idSpanStatus').style.color = "#f9ca24"
        document.getElementById('idSpanStatus').innerHTML = "Em Alerta"

        computadoresAlerta.style.background = 'blue';

        // for (let i = 0; i < 5; i++) {


        // }

    }
</script>